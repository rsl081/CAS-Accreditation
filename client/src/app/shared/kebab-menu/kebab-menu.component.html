<app-dashboard-edit-dialog
  *ngIf="showEditDialog"
  [currentId]="cardInfo.id"
  [type]="cardInfo.type"
  dialogTitle="Edit Level Name"
  [currentLabel]="cardInfo.cardLabel"
  (dialogClosed)="toggleEditDialog()"
></app-dashboard-edit-dialog>
<div
  class="kebab cursor-pointer relative inline-block box-border px-[8px]"
  #kebab
  (click)="toggleMenu()"
>
  <figure
    class="bg-gray-600 dark:bg-white pointer-events-none w-[4px] h-[4px] rounded-[2px] my-[3px]"
  ></figure>
  <figure
    class="bg-gray-600 dark:bg-white pointer-events-none w-[4px] h-[4px] rounded-[2px] my-[3px] transition-all duration-[0.25s]"
    [ngClass]="{
      'scale-100 relative ease-[cubic-bezier(0.72,1.2,0.71,0.72)]':
        !isKebabActive,
      'scale-[6] bg-red-500 dark:bg-red-500 ease-[cubic-bezier(0.32,2.04,0.85,0.54)]':
        isKebabActive
    }"
    [class.active]="isKebabActive"
  ></figure>

  <svg
    class="h-4 w-4 fill-white absolute top-1/2 left-1/2 transition-all -translate-y-1/2 -translate-x-1/2 select-none"
    [ngClass]="{
      'duration-[0.2s] ease-[cubic-bezier(0.72,1.2,0.71,0.72)] scale-0':
        !isKebabActive,
      'scale-100 duration-[0.15s] ease-[cubic-bezier(0.32,2.04,0.85,0.54)]':
        isKebabActive
    }"
    viewBox="0 0 20 20"
    [class.active]="isKebabActive"
  >
    <path
      fill-rule="evenodd"
      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
      clip-rule="evenodd"
    />
  </svg>

  <figure
    class="bg-gray-600 dark:bg-white pointer-events-none w-[4px] h-[4px] rounded-[2px] my-[3px]"
  ></figure>
  <ul
    class="dropdown z-50 bg-white absolute right-0 top-12 shadow-lg rounded transition-all duration-[0.25s] ease-out origin-top-right"
    [ngClass]="{
      'scale-0': !isKebabActive,
      'scale-100 ease-[cubic-bezier(0.5,1.8,0.9,0.8)]': isKebabActive
    }"
    #dropdown
    [class.active]="isKebabActive"
  >
    <li class="block w-full" (click)="onEdit()">
      <a
        class="w-full p-4 inline-block whitespace-pre box-border hover:bg-gray-100 text-gray-600"
      >
        <div class="flex gap-2 fill-gray-600 items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            viewBox="0 0 20 20"
          >
            <path
              d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
            />
          </svg>
          Edit Title
        </div>
      </a>
    </li>
    <li class="block w-full" (click)="onDelete()">
      <a
        class="w-full p-4 inline-block whitespace-pre box-border hover:bg-gray-100 text-gray-600"
      >
        <div class="flex gap-2 fill-gray-600 items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
              clip-rule="evenodd"
            />
          </svg>
          Delete
        </div>
      </a>
    </li>
  </ul>
</div>
